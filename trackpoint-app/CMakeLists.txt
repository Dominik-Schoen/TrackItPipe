CMAKE_MINIMUM_REQUIRED(VERSION 3.19)
PROJECT(TrackpointApp)

# Include modules
INCLUDE(FetchContent)

# Build TrackpointApp
# Set C++ mode
set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_STANDARD_REQUIRED True)

set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -O3")
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -O3")

# OpenSceneGraph
INCLUDE(thirdparty/openscenegraph.cmake)

# lib3mf
INCLUDE(thirdparty/lib3mf.cmake)

# The executable we want to build
ADD_EXECUTABLE(TrackpointApp src/main.cpp)

INCLUDE_DIRECTORIES(
  ${${OPENSCENEGRAPH_PREFIX}_SOURCE_DIR}/include
  ${${LIB3MF_PREFIX}_BINARY_DIR}/Autogenerated/Bindings/Cpp
)

TARGET_LINK_LIBRARIES(TrackpointApp
  osg osgViewer osgDB osgGA osgText osgUtil
  lib3mf
)

# Header to have version number available in the code
CONFIGURE_FILE(src/trackpointapp.hpp.in src/trackpointapp.hpp)
